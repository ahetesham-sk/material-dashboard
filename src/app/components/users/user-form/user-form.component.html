<div class="container-fluid py-2">
  <div class="row">
    <div class="col-12">
      <h4>{{ isEditMode ? 'Edit User' : 'Add New User' }}</h4>
    </div>
  </div>
</div>

<mat-card appearance="outlined">
  <mat-card-content>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <!-- Basic Information -->
      <mat-card-subtitle class="mb-2">Basic Details</mat-card-subtitle>
      <div class="grid grid-cols-3 md:grid-cols-3 sm:grid-cols-1">
        <!-- Name Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" placeholder="Ahetesham Shaikh" required>
          <mat-error *ngIf="userForm.get('name')?.hasError('required')">
            Name is required
          </mat-error>
        </mat-form-field>

        <!-- Username Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Username</mat-label>
          <input matInput formControlName="username" placeholder="ahetesham">
          <mat-error *ngIf="userForm.get('username')?.hasError('required')">
            Username is required
          </mat-error>
        </mat-form-field>

        <!-- Email Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" placeholder="ahetesham@gmail.com">
          <mat-error *ngIf="userForm.get('email')?.hasError('required')">
            Email is required
          </mat-error>
          <mat-error *ngIf="userForm.get('email')?.hasError('email')">
            Please enter a valid email
          </mat-error>
        </mat-form-field>

        <!-- Phone Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Phone</mat-label>
          <input matInput formControlName="phone" placeholder="9403381578">
          <mat-error *ngIf="userForm.get('phone')?.hasError('required')">
            Phone number is required
          </mat-error>
          <mat-error *ngIf="userForm.get('phone')?.hasError('pattern')">
            Phone number must be 10 digits
          </mat-error>
        </mat-form-field>

        <!-- Website Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Website</mat-label>
          <input matInput formControlName="website" placeholder="www.google.com">
          <mat-error *ngIf="userForm.get('website')?.hasError('required')">
            Website is required
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Company Information -->
      <mat-card-subtitle class="mb-2">Company Details:</mat-card-subtitle>
      <div class="grid grid-cols-3 md:grid-cols-3 sm:grid-cols-1" formGroupName="company">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Company Name</mat-label>
          <input matInput formControlName="name" placeholder="Google">
          <mat-error *ngIf="userForm.get('company.name')?.hasError('required')">
            Company name is required
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Catchphrase</mat-label>
          <input matInput formControlName="catchPhrase" placeholder="Providing IT Services">
          <mat-error *ngIf="userForm.get('company.catchPhrase')?.hasError('required')">
            Catchphrase is required
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Business</mat-label>
          <input matInput formControlName="bs" placeholder="Cutting-edge web services">
          <mat-error *ngIf="userForm.get('company.bs')?.hasError('required')">
            Business is required
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Address Information -->
      <mat-card-subtitle class="mb-2">Address Details:</mat-card-subtitle>
      <div formGroupName="address">
        <div class="grid grid-cols-3 md:grid-cols-3 sm:grid-cols-1">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Street</mat-label>
            <input matInput formControlName="street" placeholder="Shani Peth">
            <mat-error *ngIf="userForm.get('address.street')?.hasError('required')">
              Street is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Suite</mat-label>
            <input matInput formControlName="suite" placeholder="House No. 336">
            <mat-error *ngIf="userForm.get('address.suite')?.hasError('required')">
              Suite is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>City</mat-label>
            <input matInput formControlName="city" placeholder="Jalgaon">
            <mat-error *ngIf="userForm.get('address.city')?.hasError('required')">
              City is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Zipcode</mat-label>
            <input matInput formControlName="zipcode" placeholder="425001">
            <mat-error *ngIf="userForm.get('address.zipcode')?.hasError('required')">
              Zipcode is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="grid grid-cols-3 md:grid-cols-3 sm:grid-cols-1" formGroupName="geo">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Latitude</mat-label>
            <input matInput formControlName="lat" placeholder="29.4572">
            <mat-error *ngIf="userForm.get('address.geo.lat')?.hasError('required')">
              Latitude is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Longitude</mat-label>
            <input matInput formControlName="lng" placeholder="-164.2990">
            <mat-error *ngIf="userForm.get('address.geo.lng')?.hasError('required')">
              Longitude is required
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="form-actions text-center">
        <button mat-flat-button color="primary" type="submit" [disabled]="userForm.invalid">
          {{ isEditMode ? 'Update' : 'Add' }}
        </button>
        <button mat-button type="button" (click)="onCancel()">Cancel</button>
      </div>
    </form>
  </mat-card-content>


</mat-card>
